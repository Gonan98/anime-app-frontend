{"version":3,"sources":["components/Navigation.js","components/Anime.js","components/AnimeList.js","components/UserLogin.js","components/UserRegister.js","components/About.js","components/WatchedAnime.js","components/WatchedList.js","components/AnimeInfo.js","components/Perfil.js","App.js","index.js"],"names":["Navigation","props","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","username","id","onClick","signOut","Anime","token","localStorage","getItem","useState","guardado","setGuardado","useEffect","saved","handleClick","axios","post","title","synopsis","episodes","image_url","headers","then","res","console","log","catch","err","src","alt","AnimeList","nombre","setNombre","animes","setAnimes","watchedAnimes","setWatchedAnimes","getAnimes","a","get","data","onSubmit","event","preventDefault","results","placeholder","value","onChange","target","map","animu","key","mal_id","filter","length","UserLogin","setUsername","password","setPassword","redirect","setRedirect","loginError","setLoginError","handleSubmit","signIn","style","width","htmlFor","role","showLoginError","redirectToHome","UserRegister","email","setEmail","confirmPassword","setConfirmPassword","registro","setRegistro","showSignupAlert","showPasswordAlert","About","WatchedAnime","delete","reload","WatchedList","loading","setLoading","index","_id","AnimeInfo","Perfil","App","getUsername","setItem","removeItem","path","component","defaults","baseURL","process","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ce7bfd14.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Navigation = (props) => {\r\n\r\n  const navigationUser = () => {\r\n    if (props.username) {\r\n      return (\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarColor02\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/vistos\">\r\n                Vistos\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/about\">\r\n                About\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"navbar-nav mr-right\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link text-white\" to=\"/perfil\">\r\n                {props.username}\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className=\"nav-link text-white\"\r\n                to=\"/\"\r\n                onClick={props.signOut}\r\n              >\r\n                Salir\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarColor02\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/about\">\r\n                About\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"navbar-nav mr-right\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link text-white\" to=\"/signin\">\r\n                Iniciar Sesion\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        Anime App\r\n      </Link>\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarColor02\"\r\n        aria-controls=\"navbarColor02\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\" />\r\n      </button>\r\n      {navigationUser()}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction Anime(props) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [guardado, setGuardado] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setGuardado(props.saved);\r\n  }, [props.saved]);\r\n\r\n  const handleClick = () => {\r\n    axios\r\n      .post('/api/animes',\r\n        {\r\n          title: props.title,\r\n          synopsis: props.synopsis,\r\n          episodes: props.episodes,\r\n          image_url: props.image_url,\r\n          type: props.type,\r\n        },\r\n        {\r\n          headers: {\r\n            \"access-token\": token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res);\r\n        setGuardado(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const showButton = () => {\r\n    if (guardado) {\r\n      return <button className=\"btn btn-success\">Añadido</button>;\r\n    } else {\r\n      return (\r\n        <button className=\"btn btn-info\" onClick={handleClick}>\r\n          Añadir\r\n        </button>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"col mb-4\">\r\n      <div className=\"card h-100\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-md-4\">\r\n            <img src={props.image_url} className=\"card-img\" alt={props.title} />\r\n          </div>\r\n          <div className=\"col-md-8\">\r\n            <div className=\"card-body\">\r\n              <strong className=\"card-title\">{props.title}</strong>\r\n              <p className=\"card-text\">Episodios: {props.episodes}</p>\r\n              <p className=\"card-text\">Tipo: {props.type}</p>\r\n              {showButton()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Anime;\r\n","import React, { Fragment, useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Anime from \"./Anime\";\r\n\r\nfunction AnimeList(props) {\r\n  const [nombre, setNombre] = useState(\"\");\r\n  const [animes, setAnimes] = useState([]);\r\n  const [watchedAnimes, setWatchedAnimes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getAnimes();\r\n  }, []);\r\n\r\n  const getAnimes = async function () {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      try {\r\n        const res = await axios.get('/api/animes', {\r\n          headers: { \"access-token\": token },\r\n        });\r\n        setWatchedAnimes(res.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .get(`https://api.jikan.moe/v3/search/anime?q=${nombre}`)\r\n      .then((res) => {\r\n        const data = res.data.results;\r\n        setAnimes(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setNombre(event.target.value);\r\n  };\r\n\r\n  const isSaved = (title) => {\r\n    return watchedAnimes.filter((animu) => animu.title === title).length > 0;\r\n  };\r\n\r\n  const loadAnimes = () => {\r\n    return animes.map((animu) => (\r\n      <Anime\r\n        key={animu.mal_id}\r\n        title={animu.title}\r\n        synopsis={animu.synopsis}\r\n        episodes={animu.episodes}\r\n        type={animu.type}\r\n        image_url={animu.image_url}\r\n        saved={isSaved(animu.title)}\r\n      />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <form className=\"form-inline mt-4\" onSubmit={handleSubmit}>\r\n        <div className=\"mx-auto\">\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"Nombre del anime\"\r\n            type=\"text\"\r\n            value={nombre}\r\n            onChange={handleChange}\r\n          />\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Buscar\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div className=\"row row-cols-1 row-cols-md-4 p-4\">{loadAnimes()}</div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default AnimeList;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nfunction UserLogin(props) {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [loginError, setLoginError] = useState(false);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const valid = await props.signIn(username,password);\r\n    if (valid) {\r\n      setRedirect(true);\r\n    } else {\r\n      setLoginError(true);\r\n    }\r\n  };\r\n\r\n  const handleChangeUsername = (event) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  const handleChangePassword = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const redirectToHome = () => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const showLoginError = () => {\r\n    if (loginError) {\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          Usuario o contraseña incorrectos\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mt-5 mx-auto\" style={{ width: \"24rem\" }}>\r\n      <div className=\"card-body\">\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Usuario</label>\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={handleChangeUsername}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={handleChangePassword}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary mb-2\">\r\n            Iniciar sesion\r\n          </button>\r\n          {showLoginError()}\r\n          <p>\r\n            ¿No tiene una cuenta? Regístrese <Link to=\"/signup\">aquí</Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n      {redirectToHome()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserLogin;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction UserRegister() {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [registro, setRegistro] = useState(false);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('/api/signup', {\r\n        username,\r\n        email,\r\n        password,\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setUsername('');\r\n        setEmail('');\r\n        setPassword('');\r\n        setConfirmPassword('');\r\n        setRegistro(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleUserNameChange = (event) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const handleConfirmPasswordChange = (event) => {\r\n    setConfirmPassword(event.target.value);\r\n  };\r\n\r\n  const showPasswordAlert = () => {\r\n    if (\r\n      confirmPassword !== password &&\r\n      confirmPassword.length >= password.length\r\n    ) {\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          Las contraseñas no coinciden\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const showSignupAlert = () => {\r\n    if (registro) {\r\n      return (\r\n        <div className=\"alert alert-success\" role=\"alert\">\r\n          Se registró correctamente\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mt-5 mx-auto\" style={{ width: \"30rem\" }}>\r\n      {showSignupAlert()}\r\n      <div className=\"card-body\">\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Nombre de usuario</label>\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={handleUserNameChange}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Email</label>\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={handleEmailChange}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={handlePasswordChange}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Confirma contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              value={confirmPassword}\r\n              onChange={handleConfirmPasswordChange}\r\n              className=\"form-control\"\r\n            />\r\n            {showPasswordAlert()}\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Registrar\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserRegister;\r\n","import React from \"react\";\r\n\r\nfunction About() {\r\n  return (\r\n    <div className=\"jumbotron\">\r\n      <h1 className=\"display-4\">Sobre la aplicación...</h1>\r\n      <p className=\"lead\">\r\n        This is a simple hero unit, a simple jumbotron-style component for\r\n        calling extra attention to featured content or information.\r\n      </p>\r\n      <hr className=\"my-4\" />\r\n      <p>\r\n        It uses utility classes for typography and spacing to space content out\r\n        within the larger container.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default About;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function WatchedAnime(props) {\r\n  const handleClick = () => {\r\n    const token = localStorage.getItem('token');\r\n    axios\r\n      .delete(`/api/animes/${props.id}`, {\r\n        headers: { \"access-token\": token },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        props.reload();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"col mb-4\">\r\n      <div className=\"card h-100\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-md-4\">\r\n            <img src={props.image_url} className=\"card-img\" alt={props.title} />\r\n          </div>\r\n          <div className=\"col-md-8\">\r\n            <div className=\"card-body\">\r\n              <strong className=\"card-title\">{props.title}</strong>\r\n              <p className=\"card-text\">Episodios: {props.episodes}</p>\r\n              <p className=\"card-text\">Tipo: {props.type}</p>\r\n              <button\r\n                className=\"btn btn-warning btn-sm fas fa-times\"\r\n                onClick={handleClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Fragment } from \"react\";\r\nimport WatchedAnime from \"./WatchedAnime\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction WatchedList() {\r\n  const [animes, setAnimes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const getAnimes = async function() {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await axios.get('/api/animes',{headers:{'access-token': token}});\r\n      setAnimes(res.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAnimes();\r\n  }, []);\r\n\r\n  const loadWatchedAnimes = () => {\r\n    if (loading) {\r\n      return <h3 className=\"m-5\">Cargando...</h3>;\r\n    }\r\n\r\n    return animes.map((animu, index) => (\r\n      <WatchedAnime\r\n        key={index}\r\n        id={animu._id}\r\n        title={animu.title}\r\n        synopsis={animu.synopsis}\r\n        episodes={animu.episodes}\r\n        type={animu.type}\r\n        image_url={animu.image_url}\r\n        reload={getAnimes}\r\n      />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"row row-cols-1 row-cols-md-3 p-4\">\r\n        {loadWatchedAnimes()}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default WatchedList;\r\n","import React from \"react\";\r\n\r\nfunction AnimeInfo(props) {\r\n  return <div>Informacion del anime</div>;\r\n}\r\n\r\nexport default AnimeInfo;\r\n","import React from \"react\";\r\n\r\nfunction Perfil() {\r\n  return <div>Mi Perfil</div>;\r\n}\r\n\r\nexport default Perfil;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Navigation from \"./components/Navigation\";\r\nimport AnimeList from \"./components/AnimeList\";\r\nimport UserLogin from \"./components/UserLogin\";\r\nimport UserRegister from \"./components/UserRegister\";\r\nimport About from \"./components/About\";\r\nimport WatchedList from \"./components/WatchedList\";\r\nimport AnimeInfo from \"./components/AnimeInfo\";\r\nimport Perfil from \"./components/Perfil\";\r\nimport axios from \"axios\";\r\n\r\nfunction App() {\r\n  const [username, setUsername] = useState('');\r\n\r\n  useEffect(() => {\r\n    getUsername();\r\n  }, []);\r\n\r\n  const getUsername = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      try {\r\n        const res = await axios.get('/api/profile', {\r\n          headers: { \"access-token\": token },\r\n        });\r\n        setUsername(res.data.username);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const signIn = async (username, password) => {\r\n    try {\r\n      const res = await axios.post('/api/signin', {\r\n        username,\r\n        password,\r\n      });\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      await getUsername();\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const signOut = () => {\r\n    localStorage.removeItem(\"token\");\r\n    setUsername('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-2\">\r\n      <Router>\r\n        <Navigation username={username} signOut={signOut} />\r\n        <Switch>\r\n          <Route path=\"/\" component={AnimeList} />\r\n          <Route path=\"/signup\" component={UserRegister} />\r\n          <Route path=\"/signin\">\r\n            <UserLogin signIn={signIn} />\r\n          </Route>\r\n          <Route path=\"/about\" component={About} />\r\n          <Route path=\"/vistos\">\r\n            <WatchedList />\r\n          </Route>\r\n          <Route path=\"/anime/:id\" component={AnimeInfo} />\r\n          <Route path=\"/perfil\" component={Perfil} />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'bootswatch/dist/lux/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\nimport axios from 'axios';\n\nif (process.env.NODE_ENV === 'development') {\n  axios.defaults.baseURL = 'http://localhost:5000';  \n} else if (process.env.NODE_ENV === 'production') {\n  axios.defaults.baseURL = process.env.REACT_APP_API_URL;\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}